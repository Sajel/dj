var users = [
    {
        "isAdmin": true,
        "email": "boldak.andrey@gmail.com",
        "name": "Andrey Boldak",
        "photo": "https://lh4.googleusercontent.com/-FXs5tjXLlzs/AAAAAAAAAAI/AAAAAAAAAMY/v9q_vfkyfGc/photo.jpg?sz=500",
        "createdAt": "2016-05-13T09:11:46.101Z",
        "updatedAt": "2016-11-21T14:46:14.983Z",
        "id": "57359a52139ca40300d657dc"
    },
    {
        "isAdmin": true,
        "email": "pyshnograiev@gmail.com",
        "name": "Ivan Pyshnograiev",
        "photo": "https://lh4.googleusercontent.com/-Wf01Wxsw8xg/AAAAAAAAAAI/AAAAAAAAASI/zm6p8Df-Lwo/photo.jpg?sz=500",
        "createdAt": "2016-05-24T12:18:26.434Z",
        "updatedAt": "2016-11-10T10:21:14.628Z",
        "id": "574446921ebb2803007fa3a0"
    },
    {
        "isAdmin": false,
        "email": "k.yefremov@gmail.com",
        "name": "Kostiantyn Yefremov",
        "photo": "https://lh4.googleusercontent.com/-TKSKH92sD80/AAAAAAAAAAI/AAAAAAAABPs/aQr73x-j3Nk/photo.jpg?sz=500",
        "createdAt": "2016-05-27T13:03:56.031Z",
        "updatedAt": "2016-05-27T13:03:56.031Z",
        "id": "574845bc0b3d9f030076af6c"
    },
    {
        "isAdmin": false,
        "email": "supernickola@ukr.net",
        "name": "Nick Biletskiy",
        "photo": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=500",
        "createdAt": "2016-07-01T10:12:30.407Z",
        "updatedAt": "2016-07-01T10:12:30.407Z",
        "id": "5776420e71673103005d094a"
    },
    {
        "isAdmin": false,
        "email": "alekspea@gmail.com",
        "name": "A Pea",
        "photo": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=500",
        "createdAt": "2016-07-18T17:08:03.670Z",
        "updatedAt": "2016-07-18T17:08:03.671Z",
        "id": "578d0cf318b9e10300edd277"
    },
    {
        "isAdmin": false,
        "email": "hairlyjoe2826@gmail.com",
        "name": "Hairly  Joe ",
        "photo": "https://lh3.googleusercontent.com/-IrT5lzD1BB4/AAAAAAAAAAI/AAAAAAAAADc/TVF8qIh3Veg/photo.jpg?sz=500",
        "createdAt": "2016-07-30T19:54:00.532Z",
        "updatedAt": "2016-07-30T19:54:00.532Z",
        "id": "579d05d8a18d57030070c50a"
    },
    {
        "isAdmin": false,
        "email": "sajel15@gmail.com",
        "name": "Андрей Ханевич",
        "photo": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=500",
        "createdAt": "2016-09-22T18:43:51.595Z",
        "updatedAt": "2016-09-22T18:43:51.595Z",
        "id": "57e426674de8d80300b77760"
    },
    {
        "isAdmin": false,
        "email": "dzhygyrey@wdc.org.ua",
        "name": "Iryna Dzhygyrey",
        "photo": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=500",
        "createdAt": "2016-10-07T13:37:24.382Z",
        "updatedAt": "2016-10-07T13:37:24.382Z",
        "id": "57f7a51471d8820300b770f9"
    },
    {
        "isAdmin": true,
        "email": "tkachenko@wdc.org.ua",
        "name": "- Tkachenko",
        "photo": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=500",
        "createdAt": "2016-11-11T10:05:16.817Z",
        "updatedAt": "2016-11-11T10:07:11.751Z",
        "id": "582597dcc421940400815962"
    }
];

var apps = [
    {
        "id": "57359aee139ca40300d657de",
        "name": "Apps",
        "description": "\"Doggy Jam\" portal provide user frendly online builder for SPA based on widgets.",
        "title": "Apps",
        "keywords": [
            "Widget",
            "Single Page App",
            "Angular"
        ],
        "collaborations": [],
        "i18n": {
            "uk": {
                "#aaa": "Uuu",
                "#about": "Про  DJ Data",
                "#pages": "Сторінки",
                "#Search_and_Download _Dataset": "Пошук та завантаження наборів даних",
                "#Datasets": "Набори даних",
                "#Sources": "Джерела",
                "#Authors": "Автори",
                "#Indicators": "Показники",
                "#Countries": "Країни",
                "#Total": "Всього:",
                "#Topics": "Теми",
                "#Keywords": "Ключові слова",
                "#Search_Result": "Результати пошуку",
                "#Key": "Ключ пошуку",
                "#url": "./api/resource/Exploration of WDC Datasets-dm-default-uk.html",
                "#Home": "Головна",
                "#WDC Datasets Exploration": "Розвідка даних СЦД",
                "#Data Management": "Управління даними",
                "#World Data System": "Світова система даних",
                "#Sustainable Development": "Сталий розвиток",
                "#WDC description": "\"Розвідка даних СЦД\" це застосунок, який допоможе знайти, вибрати та завантажити наші дані.",
                "#apps": "Доступні застосунки",
                "#info": "Інформація про застосунок",
                "#AvDS": "Доступні набори даних:",
                "#topics": "Теми",
                "#sources": "Джерела",
                "#countries": "Країни",
                "#ukraine": "Регіони України",
                "#keywords": "Ключові слова",
                "#title": "Досліди наші дані",
                "#description": "Портал \"Doggy Jam\" надає дружній  WEB интерфейс для дослідження даних",
                "#AvailableDatasets": "Доступні набори даних:",
                "#selectRegion": "Виберіть одну або декілька областей",
                "#tags": "Пошукові теги"
            },
            "en": {
                "#aaa": "Aaa",
                "#about": "About DJ Data",
                "#pages": "Pages",
                "#Search_and_Download _Dataset": "Search and Download  Dataset",
                "#Datasets": "Datasets",
                "#Sources": "Sources",
                "#Authors": "Authors",
                "#Indicators": "Indicators",
                "#Countries": "Countries",
                "#Total": "Total:",
                "#Topics": "Topics",
                "#Keywords": "Keywords",
                "#Search_Result": "Search Result",
                "#Key": "Search Key",
                "#url": "./api/resource/Exploration of WDC Datasets-dm-default-en.html",
                "#Home": "Home",
                "#WDC Datasets Exploration": "Exploration of  WDC Datasets",
                "#Data Management": "Data Management",
                "#World Data System": "World Data System",
                "#Sustainable Development": "Sustainable Development",
                "#WDC description": "Exploration of WDC Datasets is the single page application. You can use it for search and retrieve WDC data.",
                "#apps": "Available Applications",
                "#info": "About App",
                "#AvDS": "Available Datasets:",
                "#topics": "Topics",
                "#sources": "Sources",
                "#countries": "Countries",
                "#ukraine": "Ukraine",
                "#keywords": "Keywords",
                "#title": "Explore our data",
                "#description": "\"Doggy Jam\" portal provide user frendly WEB interface for data exploration",
                "#AvailableDatasets": "Available datasets:",
                "#selectRegion": "Select one or more regions",
                "#tags": "Tags"
            },
            "ru": {
                "#aaa": "Rrr",
                "#Search_and_Download _Dataset": "Поиск и загрузка наборов данных",
                "#Datasets": "Наборы данных",
                "#Sources": "Источники",
                "#Authors": "Авторы",
                "#Indicators": "Показатели",
                "#Countries": "Страны",
                "#Total": "Всего:",
                "#Topics": "Темы",
                "#Keywords": "Ключевые слова",
                "#Search_Result": "Результаты поиска",
                "#Key": "Ключ поиска",
                "#url": "./api/resource/Exploration of WDC Datasets-dm-default-en.html",
                "#Home": "Главная",
                "#Sustainable Development": "Устойчивое развитие",
                "#AvDS": "Доступные наборы данных:",
                "#topics": "Темы",
                "#sources": "Источники",
                "#countries": "Страны",
                "#ukraine": "Регионы Украины",
                "#keywords": "Ключевые слова",
                "#about": "Про  DJ Data",
                "#title": "Исследуй наши данные",
                "#description": "Портал \"Doggy Jam\" предоставляет дружественный  WEB интерфейс для исследования данных",
                "#AvailableDatasets": "Доступные наборы данных:",
                "#selectRegion": "Select one or more regions",
                "#tags": "Теги"
            }
        },
        "icon": "./api/resource/Apps-dj.png",
        "createdAt": "2016-05-13T09:14:22.248Z",
        "updatedAt": "2016-05-13T09:18:32.630Z",
        "owner": {
            "id": "57359a52139ca40300d657dc",
            "name": "Andrey Boldak",
            "email": "boldak.andrey@gmail.com",
            "photo": "https://lh4.googleusercontent.com/-FXs5tjXLlzs/AAAAAAAAAAI/AAAAAAAAAMY/v9q_vfkyfGc/photo.jpg?sz=500"
        },
        "importedFromURL": "http://localhost:8080/app/Apps"
    },
    {
        "id": "582464d070a40104003a2178",
        "name": "Ch test",
        "description": "Description",
        "title": "Open Data Portal",
        "dps": "https://dj-dps.herokuapp.com",
        "keywords": [
            ""
        ],
        "collaborations": [
            {
                "user": {
                    "id": "574446921ebb2803007fa3a0",
                    "name": "Ivan Pyshnograiev",
                    "email": "pyshnograiev@gmail.com",
                    "photo": "https://lh4.googleusercontent.com/-Wf01Wxsw8xg/AAAAAAAAAAI/AAAAAAAAASI/zm6p8Df-Lwo/photo.jpg?sz=500"
                }
            },
            {
                "user": {
                    "id": "582597dcc421940400815962",
                    "name": "- Tkachenko",
                    "email": "tkachenko@wdc.org.ua",
                    "photo": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=500"
                }
            }
        ],
        "i18n": {
            "uk": {
                "#bg": "./img/default-banner-uk.png",
                "#dataSource": "Джерело даних",
                "#Datasource": "Джерело даних",
                "#Topic": "Розділ",
                "#dataset": "Набір даних:",
                "#title": "Досліди наші дані",
                "#aaa": "Uuu",
                "#about": "Про  DJ Data",
                "#pages": "Сторінки",
                "#Search_and_Download _Dataset": "Пошук та завантаження наборів даних",
                "#Datasets": "Набори даних",
                "#Sources": "Джерела",
                "#Authors": "Автори",
                "#Indicators": "Показники",
                "#Countries": "Країни",
                "#Total": "Всього:",
                "#Topics": "Теми",
                "#Keywords": "Ключові слова",
                "#Search_Result": "Результати пошуку",
                "#Key": "Ключ пошуку",
                "#url": "./api/resource/Exploration of WDC Datasets-dm-default-uk.html",
                "#Home": "Головна",
                "#WDC Datasets Exploration": "Розвідка даних СЦД",
                "#Data Management": "Управління даними",
                "#World Data System": "Світова система даних",
                "#Sustainable Development": "Сталий розвиток",
                "#WDC description": "\"Розвідка даних СЦД\" це застосунок, який допоможе знайти, вибрати та завантажити наші дані.",
                "#apps": "Доступні застосунки",
                "#info": "Інформація про застосунок",
                "#AvDS": "Доступні набори даних:",
                "#topics": "Теми",
                "#sources": "Джерела",
                "#countries": "Країни",
                "#ukraine": "Регіони України",
                "#keywords": "Ключові слова",
                "#description": "Портал \"Doggy Jam\" надає дружній  WEB интерфейс для дослідження даних",
                "#AvailableDatasets": "Доступні набори даних:",
                "#selectRegion": "Виберіть одну або декілька областей",
                "#tags": "Пошукові теги",
                "#t": "Фактори впливу",
                "#st": "Ключові події та процеси",
                "#history": "Оновлення",
                "#searchRes": "Знайдені набори даних",
                "#MDL": "Метадані",
                "#go": "Вперед",
                "#SDM": "Сталий розвиток.",
                "appName": "Сталий розвиток",
                "lanMethod": "Методологія",
                "lanSust": "Сталий розвиток 2015",
                "lanMethMenu": "/app/SDI/methodology",
                "lanDinEu": "Динаміка індексу сталого розвитку для країн Європи",
                "Ірландія": "Ірландія"
            },
            "en": {
                "#bg": "./img/default-banner.png",
                "#dataSource": "Data Source",
                "#Datasource": "Data Source",
                "#Topic": "Topic",
                "#dataset": "Dataset:",
                "#title": "Explore our data",
                "#aaa": "Aaa",
                "#about": "About DJ Data",
                "#pages": "Pages",
                "#Search_and_Download _Dataset": "Search and Download  Dataset",
                "#Datasets": "Datasets",
                "#Sources": "Sources",
                "#Authors": "Authors",
                "#Indicators": "Indicators",
                "#Countries": "Countries",
                "#Total": "Total:",
                "#Topics": "Topics",
                "#Keywords": "Keywords",
                "#Search_Result": "Search Result",
                "#Key": "Search Key",
                "#url": "./api/resource/Exploration of WDC Datasets-dm-default-en.html",
                "#Home": "Home",
                "#WDC Datasets Exploration": "Exploration of  WDC Datasets",
                "#Data Management": "Data Management",
                "#World Data System": "World Data System",
                "#Sustainable Development": "Sustainable Development",
                "#WDC description": "Exploration of WDC Datasets is the single page application. You can use it for search and retrieve WDC data.",
                "#apps": "Available Applications",
                "#info": "About App",
                "#AvDS": "Available Datasets:",
                "#topics": "Topics",
                "#sources": "Sources",
                "#countries": "Countries",
                "#ukraine": "Ukraine",
                "#keywords": "Keywords",
                "#description": "\"Doggy Jam\" portal provide user frendly WEB interface for data exploration",
                "#AvailableDatasets": "Available datasets:",
                "#selectRegion": "Select one or more regions",
                "#tags": "Tags",
                "#t": "Impact Factors",
                "#st": "Key Events and Processes",
                "#history": "Dataset History",
                "#searchRes": "Available Datasets",
                "#MDL": "Full Metadata List",
                "#go": "Go!",
                "#SDM": "Sustainable Development. Milestones",
                "appName": "Sustainable development",
                "lanMethod": "Methodology",
                "lanSust": "Sustainable development 2015",
                "lanMethMenu": "/app/SDI/methodology",
                "lanDinEu": "Sustainable index dynamics for Europe",
                "Ірландія": "Ireland"
            },
            "ru": {
                "#bg": "./img/default-banner.png",
                "#dataSource": "Data Source",
                "#Datasource": "Data Source",
                "#Topic": "Topic",
                "#dataset": "Dataset:",
                "#title": "Исследуй наши данные",
                "#aaa": "Rrr",
                "#Search_and_Download _Dataset": "Поиск и загрузка наборов данных",
                "#Datasets": "Наборы данных",
                "#Sources": "Источники",
                "#Authors": "Авторы",
                "#Indicators": "Показатели",
                "#Countries": "Страны",
                "#Total": "Всего:",
                "#Topics": "Темы",
                "#Keywords": "Ключевые слова",
                "#Search_Result": "Результаты поиска",
                "#Key": "Ключ поиска",
                "#url": "./api/resource/Exploration of WDC Datasets-dm-default-en.html",
                "#Home": "Главная",
                "#Sustainable Development": "Устойчивое развитие",
                "#AvDS": "Доступные наборы данных:",
                "#topics": "Темы",
                "#sources": "Источники",
                "#countries": "Страны",
                "#ukraine": "Регионы Украины",
                "#keywords": "Ключевые слова",
                "#about": "Про  DJ Data",
                "#description": "Портал \"Doggy Jam\" предоставляет дружественный  WEB интерфейс для исследования данных",
                "#AvailableDatasets": "Доступные наборы данных:",
                "#selectRegion": "Select one or more regions",
                "#tags": "Теги",
                "#t": "Фактори впливу",
                "#st": "Ключові події та процеси",
                "#history": "Dataset History",
                "#searchRes": "Available Datasets",
                "#MDL": "Full Metadata List",
                "#go": "Вперед",
                "#SDM": "Сталий розвиток.",
                "appName": "Сталий розвиток",
                "lanMethod": "Методологія",
                "lanSust": "Сталий розвиток 2015",
                "lanMethMenu": "/app/SDI/methodology",
                "lanDinEu": "Динаміка індексу сталого розвитку для країн Європи",
                "Ірландія": "Ірландія"
            }
        },
        "icon": "./api/resource/Ch test-companyname_en_light.png",
        "createdAt": "2016-11-10T12:15:12.754Z",
        "updatedAt": "2016-11-14T16:07:30.710Z",
        "owner": {
            "id": "57359a52139ca40300d657dc",
            "name": "Andrey Boldak",
            "email": "boldak.andrey@gmail.com",
            "photo": "https://lh4.googleusercontent.com/-FXs5tjXLlzs/AAAAAAAAAAI/AAAAAAAAAMY/v9q_vfkyfGc/photo.jpg?sz=500"
        },
        "importedFromURL": "http://localhost:8080/app/ChData",
        "importedFromAuthor": "Andrey Boldak"
    },
    {
        "id": "571e0f13df0b8403005694fb",
        "name": "Data",
        "description": "#description",
        "title": "Data",
        "dps": "https://dj-dps.herokuapp.com",
        "keywords": [
            "Data Management System",
            "BI",
            "Data Processing",
            "Data Minning"
        ],
        "collaborations": [
            {
                "user": {
                    "id": "574446921ebb2803007fa3a0",
                    "name": "Ivan Pyshnograiev",
                    "email": "pyshnograiev@gmail.com",
                    "photo": "https://lh4.googleusercontent.com/-Wf01Wxsw8xg/AAAAAAAAAAI/AAAAAAAAASI/zm6p8Df-Lwo/photo.jpg?sz=500"
                }
            }
        ],
        "i18n": {
            "uk": {
                "#AvDS": "Доступні набори даних:",
                "#topics": "Теми",
                "#sources": "Джерела",
                "#countries": "Країни",
                "#ukraine": "Регіони України",
                "#keywords": "Ключові слова",
                "#about": "Про  DJ Data",
                "#title": "Досліди наші дані",
                "#description": "Портал \"Doggy Jam\" надає дружній  WEB интерфейс для дослідження даних"
            },
            "en": {
                "#AvDS": "Available Datasets:",
                "#topics": "Topics",
                "#sources": "Sources",
                "#countries": "Countries",
                "#ukraine": "Ukraine",
                "#keywords": "Keywords",
                "#about": "About DJ Data",
                "#title": "Explore our data",
                "#description": "\"Doggy Jam\" portal provide user frendly WEB interface for data exploration"
            },
            "ru": {
                "#AvDS": "Доступные наборы данных:",
                "#topics": "Темы",
                "#sources": "Источники",
                "#countries": "Страны",
                "#ukraine": "Регионы Украины",
                "#keywords": "Ключевые слова",
                "#about": "Про  DJ Data",
                "#title": "Исследуй наши данные",
                "#description": "Портал \"Doggy Jam\" предоставляет дружественный  WEB интерфейс для исследования данных"
            }
        },
        "icon": "./api/resource/Data-default-ds-icon.png",
        "createdAt": "2016-04-25T12:35:31.453Z",
        "updatedAt": "2016-11-10T12:32:52.994Z",
        "importedFromURL": "http://localhost:8080/app/Data",
        "importedFromAuthor": "Andrey Boldak"
    },
    {
        "id": "582b0198b61fa10400c96b35",
        "name": "Data Processing Example",
        "description": "Description",
        "title": "Title",
        "keywords": [
            ""
        ],
        "i18n": {},
        "icon": "/img/default/20.png",
        "createdAt": "2016-11-15T12:37:44.045Z",
        "updatedAt": "2016-11-15T12:37:44.045Z",
        "owner": {
            "id": "57359a52139ca40300d657dc",
            "name": "Andrey Boldak",
            "email": "boldak.andrey@gmail.com",
            "photo": "https://lh4.googleusercontent.com/-FXs5tjXLlzs/AAAAAAAAAAI/AAAAAAAAAMY/v9q_vfkyfGc/photo.jpg?sz=500"
        }
    },
    {
        "id": "57f7a55971d8820300b770fb",
        "name": "SD History",
        "description": ",jfgkjdfnv ngbnrebgekg",
        "title": "#SDM",
        "dps": "https://dj-dps.herokuapp.com",
        "keywords": [
            ""
        ],
        "collaborations": [
            {
                "user": {
                    "id": "57359a52139ca40300d657dc",
                    "name": "Andrey Boldak",
                    "email": "boldak.andrey@gmail.com",
                    "photo": "https://lh4.googleusercontent.com/-FXs5tjXLlzs/AAAAAAAAAAI/AAAAAAAAAMY/v9q_vfkyfGc/photo.jpg?sz=500"
                }
            }
        ],
        "i18n": {
            "uk": {
                "#SDM": "Сталий розвиток."
            },
            "en": {
                "#SDM": "Sustainable Development. Milestones"
            },
            "ru": {
                "#SDM": "Сталий розвиток."
            }
        },
        "icon": "./api/resource/wdc-wdc.png",
        "createdAt": "2016-10-07T13:38:33.007Z",
        "updatedAt": "2016-10-07T14:01:00.984Z",
        "owner": {
            "id": "57f7a51471d8820300b770f9",
            "name": "Iryna Dzhygyrey",
            "email": "dzhygyrey@wdc.org.ua",
            "photo": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=500"
        }
    },
    {
        "id": "5742a6e8265d460300865b7e",
        "name": "SDI",
        "description": "UA SDI Exploration",
        "title": "appName",
        "dps": "https://dj-dps.herokuapp.com",
        "keywords": [
            ""
        ],
        "collaborations": [
            {
                "user": {
                    "id": "574446921ebb2803007fa3a0",
                    "name": "Ivan Pyshnograiev",
                    "email": "pyshnograiev@gmail.com",
                    "photo": "https://lh4.googleusercontent.com/-Wf01Wxsw8xg/AAAAAAAAAAI/AAAAAAAAASI/zm6p8Df-Lwo/photo.jpg?sz=500"
                }
            },
            {
                "user": {
                    "id": "574845bc0b3d9f030076af6c",
                    "name": "Kostiantyn Yefremov",
                    "email": "k.yefremov@gmail.com",
                    "photo": "https://lh4.googleusercontent.com/-TKSKH92sD80/AAAAAAAAAAI/AAAAAAAABPs/aQr73x-j3Nk/photo.jpg?sz=500"
                }
            }
        ],
        "i18n": {
            "uk": {
                "appName": "Сталий розвиток",
                "lanMethod": "Методологія",
                "lanSust": "Сталий розвиток 2015",
                "lanMethMenu": "/app/SDI/methodology",
                "lanDinEu": "Динаміка індексу сталого розвитку для країн Європи",
                "Ірландія": "Ірландія"
            },
            "en": {
                "appName": "Sustainable development",
                "lanMethod": "Methodology",
                "lanSust": "Sustainable development 2015",
                "lanMethMenu": "/app/SDI/methodology",
                "lanDinEu": "Sustainable index dynamics for Europe",
                "Ірландія": "Ireland"
            },
            "ru": {
                "appName": "Сталий розвиток",
                "lanMethod": "Методологія",
                "lanSust": "Сталий розвиток 2015",
                "lanMethMenu": "/app/SDI/methodology",
                "lanDinEu": "Динаміка індексу сталого розвитку для країн Європи",
                "Ірландія": "Ірландія"
            }
        },
        "icon": "./api/resource/wdc-wdc.png",
        "createdAt": "2016-05-23T06:44:56.725Z",
        "updatedAt": "2016-11-15T14:19:33.019Z",
        "owner": {
            "id": "57359a52139ca40300d657dc",
            "name": "Andrey Boldak",
            "email": "boldak.andrey@gmail.com",
            "photo": "https://lh4.googleusercontent.com/-FXs5tjXLlzs/AAAAAAAAAAI/AAAAAAAAAMY/v9q_vfkyfGc/photo.jpg?sz=500"
        }
    },
    {
        "id": "579b192e5737200300890d2a",
        "name": "Test",
        "description": "Description",
        "title": "Title",
        "keywords": [
            ""
        ],
        "collaborations": [],
        "i18n": {},
        "icon": "/img/default/17.png",
        "createdAt": "2016-07-29T08:51:58.017Z",
        "updatedAt": "2016-08-14T18:42:45.389Z",
        "owner": {
            "id": "578d0cf318b9e10300edd277",
            "name": "A Pea",
            "email": "alekspea@gmail.com",
            "photo": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=500"
        }
    },
    {
        "id": "57ed3685c01ec203000c33b0",
        "name": "Timelines",
        "description": "Description",
        "title": "Title",
        "dps": "https://dj-dps.herokuapp.com",
        "keywords": [
            ""
        ],
        "collaborations": [],
        "i18n": {
            "uk": {
                "#t": "Фактори впливу",
                "#st": "Ключові події та процеси"
            },
            "en": {
                "#t": "Impact Factors",
                "#st": "Key Events and Processes"
            },
            "ru": {
                "#t": "Фактори впливу",
                "#st": "Ключові події та процеси"
            }
        },
        "icon": "./api/resource/wdc-wdc.png",
        "createdAt": "2016-09-29T15:43:01.596Z",
        "updatedAt": "2016-11-21T14:48:21.679Z",
        "owner": {
            "id": "57359a52139ca40300d657dc",
            "name": "Andrey Boldak",
            "email": "boldak.andrey@gmail.com",
            "photo": "https://lh4.googleusercontent.com/-FXs5tjXLlzs/AAAAAAAAAAI/AAAAAAAAAMY/v9q_vfkyfGc/photo.jpg?sz=500"
        },
        "importedFromURL": "http://localhost:8080/app/TimelineExamples",
        "importedFromAuthor": "Andrey Boldak"
    },
    {
        "id": "571e0f13df0b8403005694fc",
        "name": "app-list",
        "description": "Main page description",
        "title": "Main page",
        "keywords": [
            ""
        ],
        "collaborations": [],
        "i18n": {},
        "icon": "./api/resource/Apps-dj.png",
        "createdAt": "2016-04-25T12:35:31.465Z",
        "updatedAt": "2016-05-13T09:20:06.893Z"
    },
    {
        "id": "571e0f13df0b8403005694fe",
        "name": "wdc",
        "description": "#WDC description",
        "title": "#WDC Datasets Exploration",
        "keywords": [
            "#Data Management",
            "#World Data System",
            "#Sustainable Development"
        ],
        "collaborations": [],
        "i18n": {
            "uk": {
                "#Search_and_Download _Dataset": "Пошук та завантаження наборів даних",
                "#Datasets": "Набори даних",
                "#Sources": "Джерела",
                "#Authors": "Автори",
                "#Indicators": "Показники",
                "#Countries": "Країни",
                "#Total": "Всього:",
                "#Topics": "Теми",
                "#Keywords": "Ключові слова",
                "#Search_Result": "Результати пошуку",
                "#Key": "Ключ пошуку",
                "#url": "./api/resource/Exploration of WDC Datasets-dm-default-uk.html",
                "#Home": "Головна",
                "#WDC Datasets Exploration": "Розвідка даних СЦД",
                "#Data Management": "Управління даними",
                "#World Data System": "Світова система даних",
                "#Sustainable Development": "Сталий розвиток",
                "#WDC description": "\"Розвідка даних СЦД\" це застосунок, який допоможе знайти, вибрати та завантажити наші дані."
            },
            "en": {
                "#Search_and_Download _Dataset": "Search and Download  Dataset",
                "#Datasets": "Datasets",
                "#Sources": "Sources",
                "#Authors": "Authors",
                "#Indicators": "Indicators",
                "#Countries": "Countries",
                "#Total": "Total:",
                "#Topics": "Topics",
                "#Keywords": "Keywords",
                "#Search_Result": "Search Result",
                "#Key": "Search Key",
                "#url": "./api/resource/Exploration of WDC Datasets-dm-default-en.html",
                "#Home": "Home",
                "#WDC Datasets Exploration": "Exploration of  WDC Datasets",
                "#Data Management": "Data Management",
                "#World Data System": "World Data System",
                "#Sustainable Development": "Sustainable Development",
                "#WDC description": "Exploration of WDC Datasets is the single page application. You can use it for search and retrieve WDC data."
            },
            "ru": {
                "#Search_and_Download _Dataset": "Поиск и загрузка наборов данных",
                "#Datasets": "Наборы данных",
                "#Sources": "Источники",
                "#Authors": "Авторы",
                "#Indicators": "Показатели",
                "#Countries": "Страны",
                "#Total": "Всего:",
                "#Topics": "Темы",
                "#Keywords": "Ключевые слова",
                "#Search_Result": "Результаты поиска",
                "#Key": "Ключ поиска",
                "#url": "./api/resource/Exploration of WDC Datasets-dm-default-en.html",
                "#Home": "Главная",
                "#Sustainable Development": "Устойчивое развитие"
            }
        },
        "icon": "./api/resource/wdc-wdc.png",
        "createdAt": "2016-04-25T12:35:31.539Z",
        "updatedAt": "2016-05-13T09:21:42.784Z",
        "importedFromURL": "http://localhost:8080/app/wdc",
        "importedFromAuthor": "Andrey Boldak"
    }
]

var entities = users.map(function(item){
	return {
		context: item,
		type: "user"
	}
})

entities = entities.concat(apps.map(function(item){
	return {
		type: "app",
		context: item
	}
}))

var tags = [];
apps.forEach(function(app){
	tags = tags.concat(app.keywords.filter(function(tag){return tag !=="" && tags.indexOf(tag)<0}))
})

entities = entities.concat(tags.map(function(item){
	return {
		type: "tag",
		context:item
	}
}))

entities.forEach(function(item, index){ item.index = index})	

// console.log(entities)//JSON.stringify(entities))
// 
var links = [];
entities
	.filter(function(item){
		return item.type == "app"
	})
	.forEach(function(app){
		var source = app.index;
		var target = entities.filter(function(item){
			return item.type == "user" && item.context.name == ((app.context.owner) ? app.context.owner.name : "undefined")
		})

		target = (target.length>0)? target[0].index : -1;
		
		if( target >=0 ){
			links.push({
				source: source,
				target: target,
				type: "owner"
			})
		}
		
		var collabs = entities
			.filter(function(item){
				return 	item.type == "user" && 
						((app.context.collaborations)
							? (app.context.collaborations
							.map(function(c){ return c.user.name})
							.indexOf(item.context.name) >= 0)
							: false
						)	
				})
			.map(function(item){
				return {
					source : source,
					target : item.index,
					type: "collaborator"
				}
			})
		links = links.concat(collabs);

		var assoc = entities
			.filter(function(item){
				return item.type == "tag" && app.context.keywords.indexOf(item.context)>=0
			})
			.map(function(a){
				return {
					source : source,
					target : a.index,
					type : "association"
				}
			})
		
		links = links.concat(assoc);

	})

entities.forEach(function(item){
	item.weight = links.filter(function(link){
		return item.index == link.target || item.index == link.source
	}).length;
})
var index = entities.length;
var addlnk = [];
links.forEach(function(link){
	entities.push({
		type:"connector",
		context: link.type,
		index : index
	})
	addlnk.push({
		source: link.source,
		target: index,
		type: link.type
	})
	addlnk.push({
		source: index,
		target: link.target,
		type: link.type
	})
	index++;
})
links= addlnk;

console.log("var json = {")
console.log("nodes:")
console.log(entities)
console.log(",")
console.log("links:")
console.log(links)
console.log("};")